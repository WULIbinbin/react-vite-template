import{r as c,m as j,u as F}from"./vendor.abe2ed9a.js";import{j as e,l as w}from"./index.f2da1596.js";import{F as d,I as l,D,e as C,f as p,T as y}from"./layout.2ff61d0d.js";const{FormItem:n}=d,B={account:[{required:!0,message:"\u8D26\u53F7\u5FC5\u586B"}],password:[{required:!0,message:"\u5BC6\u7801\u5FC5\u586B"}]},A=c.exports.memo(()=>{const r={account:"admin",password:"123456"},[u,x]=c.exports.useState(r),o=c.exports.useRef(null),m=j(),f=F();function i(s,t){x({...u,[s]:t})}function h(s,t){const a=o.current;!s||t.e.keyCode===13&&a.submit()}async function g({validateResult:s}){console.log(o.current);const t=o.current;if(s===!0){if(u.account!==r.account){t.setValidateMessage({account:[{type:"error",message:"\u8D26\u53F7\u4E0D\u5B58\u5728"}]});return}if(u.password!==r.password){t.setValidateMessage({password:[{type:"error",message:"\u5BC6\u7801\u9519\u8BEF"}]});return}const a=await f(w(2333));console.log(a),a.payload&&m("/index",{replace:!0})}}return e.exports.jsxs("div",{className:"login-container",children:[e.exports.jsx("div",{className:"login-title",children:"Vite TD Starter"}),e.exports.jsx("div",{className:"login-main",children:e.exports.jsxs(d,{ref:o,rules:B,onSubmit:g,children:[e.exports.jsx(n,{name:"account",children:e.exports.jsx(l,{size:"large",clearable:!0,prefixIcon:e.exports.jsx(D,{}),placeholder:`\u8D26\u53F7\uFF1A${r.account}`,onChange:s=>i("account",s)})}),e.exports.jsx(n,{name:"password",children:e.exports.jsx(l,{type:"password",size:"large",prefixIcon:e.exports.jsx(C,{}),clearable:!0,placeholder:`\u5BC6\u7801\uFF1A${r.password}`,onChange:s=>i("password",s),onKeydown:h})}),e.exports.jsx(n,{children:e.exports.jsx(p,{size:"large",type:"submit",children:"\u767B\u5F55"})}),e.exports.jsx(n,{children:e.exports.jsx(y,{content:"\u672A\u5F00\u901A",destroyOnClose:!0,placement:"bottom",showArrow:!0,theme:"default",children:e.exports.jsx(p,{size:"large",theme:"default",children:"\u6CE8\u518C"})})})]})})]})});export{A as default};
