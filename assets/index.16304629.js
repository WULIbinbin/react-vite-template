var Mt=Object.defineProperty;var Lt=(e,t,n)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pe=(e,t,n)=>(Lt(e,typeof t!="symbol"?t+"":t,n),n);import{s as it,r as P,R as Rt}from"./vendor.abe2ed9a.js";import{j as f,a as Ut,b as Bt,m as Ht}from"./index.6ba7e99f.js";import{s as Gt,I as ct,j as zt,k as Vt,F as ve,l as Me,f as ie,m as kt,n as Kt}from"./layout.ca3051a3.js";var oe={exports:{}};const Wt=it(Gt);var lt={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],g=0;g<arguments.length;g++){var u=arguments[g];if(!!u){var i=typeof u;if(i==="string"||i==="number")r.push(u);else if(Array.isArray(u)){if(u.length){var p=n.apply(null,u);p&&r.push(p)}}else if(i==="object")if(u.toString===Object.prototype.toString)for(var b in u)t.call(u,b)&&u[b]&&r.push(b);else r.push(u.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(lt);var qt="Invariant failed";function Jt(e,t){if(!e)throw new Error(qt)}const Yt=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"})),Xt=it(Yt);(function(e){var t=Wt,n=lt.exports,r=P.exports,g=Xt;function u(s){return s&&s.__esModule?s.default:s}function i(s,o,a,l){Object.defineProperty(s,o,{get:a,set:l,enumerable:!0,configurable:!0})}function p(s,o){return Object.keys(o).forEach(function(a){a==="default"||a==="__esModule"||s.hasOwnProperty(a)||Object.defineProperty(s,a,{enumerable:!0,get:function(){return o[a]}})}),s}i(e.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),i(e.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),i(e.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),i(e.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),i(e.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),i(e.exports,"Options",()=>$882b6d93070905b3$re_export$Options),i(e.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),i(e.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),i(e.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),i(e.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),i(e.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),i(e.exports,"ReactSortable",()=>S);function b(s){s.parentElement!==null&&s.parentElement.removeChild(s)}function m(s,o,a){const l=s.children[a]||null;s.insertBefore(o,l)}function j(s){s.forEach(o=>b(o.element))}function T(s){s.forEach(o=>{m(o.parentElement,o.element,o.oldIndex)})}function C(s,o){const a=w(s),l={parentElement:s.from};let h=[];switch(a){case"normal":h=[{element:s.item,newIndex:s.newIndex,oldIndex:s.oldIndex,parentElement:s.from}];break;case"swap":const v={element:s.item,oldIndex:s.oldIndex,newIndex:s.newIndex,...l},I={element:s.swapItem,oldIndex:s.newIndex,newIndex:s.oldIndex,...l};h=[v,I];break;case"multidrag":h=s.oldIndicies.map((A,z)=>({element:A.multiDragElement,oldIndex:A.index,newIndex:s.newIndicies[z].index,...l}));break}return c(h,o)}function M(s,o){const a=L(s,o);return E(s,a)}function L(s,o){const a=[...o];return s.concat().reverse().forEach(l=>a.splice(l.oldIndex,1)),a}function E(s,o,a,l){const h=[...o];return s.forEach(d=>{const y=l&&a&&l(d.item,a);h.splice(d.newIndex,0,y||d.item)}),h}function w(s){return s.oldIndicies&&s.oldIndicies.length>0?"multidrag":s.swapItem?"swap":"normal"}function c(s,o){return s.map(l=>({...l,item:o[l.oldIndex]})).sort((l,h)=>l.oldIndex-h.oldIndex)}function O(s){const{list:o,setList:a,children:l,tag:h,style:d,className:y,clone:v,onAdd:I,onChange:A,onChoose:z,onClone:Ee,onEnd:q,onFilter:De,onRemove:ne,onSort:Pe,onStart:Fe,onUnchoose:Ne,onUpdate:ua,onMove:pa,onSpill:da,onSelect:fa,onDeselect:ba,...Nt}=s;return Nt}const x={dragging:null};class S extends r.Component{constructor(o){super(o),this.ref=(0,r.createRef)();const a=[...o.list].map(l=>Object.assign(l,{chosen:!1,selected:!1}));o.setList(a,this.sortable,x),u(g)(!o.plugins,`
Plugins prop is no longer supported.
Instead, mount it with "Sortable.mount(new MultiDrag())"
Please read the updated README.md at https://github.com/SortableJS/react-sortablejs.
      `)}componentDidMount(){if(this.ref.current===null)return;const o=this.makeOptions();u(t).create(this.ref.current,o)}componentDidUpdate(o){o.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:o,style:a,className:l,id:h}=this.props,d={style:a,className:l,id:h},y=!o||o===null?"div":o;return(0,r.createElement)(y,{ref:this.ref,...d},this.getChildren())}getChildren(){const{children:o,dataIdAttr:a,selectedClass:l="sortable-selected",chosenClass:h="sortable-chosen",dragClass:d="sortable-drag",fallbackClass:y="sortable-falback",ghostClass:v="sortable-ghost",swapClass:I="sortable-swap-highlight",filter:A="sortable-filter",list:z}=this.props;if(!o||o==null)return null;const Ee=a||"data-id";return r.Children.map(o,(q,De)=>{if(q===void 0)return;const ne=z[De]||{},{className:Pe}=q.props,Fe=typeof A=="string"&&{[A.replace(".","")]:!!ne.filtered},Ne=u(n)(Pe,{[l]:ne.selected,[h]:ne.chosen,...Fe});return(0,r.cloneElement)(q,{[Ee]:q.key,className:Ne})})}get sortable(){const o=this.ref.current;if(o===null)return null;const a=Object.keys(o).find(l=>l.includes("Sortable"));return a?o[a]:null}makeOptions(){const o=["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"],a=["onChange","onClone","onFilter","onSort"],l=O(this.props);return o.forEach(d=>l[d]=this.prepareOnHandlerPropAndDOM(d)),a.forEach(d=>l[d]=this.prepareOnHandlerProp(d)),{...l,onMove:(d,y)=>{const{onMove:v}=this.props,I=d.willInsertAfter||-1;if(!v)return I;const A=v(d,y,this.sortable,x);return typeof A>"u"?!1:A}}}prepareOnHandlerPropAndDOM(o){return a=>{this.callOnHandlerProp(a,o),this[o](a)}}prepareOnHandlerProp(o){return a=>{this.callOnHandlerProp(a,o)}}callOnHandlerProp(o,a){const l=this.props[a];l&&l(o,this.sortable,x)}onAdd(o){const{list:a,setList:l,clone:h}=this.props,d=[...x.dragging.props.list],y=C(o,d);j(y);const v=E(y,a,o,h).map(I=>Object.assign(I,{selected:!1}));l(v,this.sortable,x)}onRemove(o){const{list:a,setList:l}=this.props,h=w(o),d=C(o,a);T(d);let y=[...a];if(o.pullMode!=="clone")y=L(d,y);else{let v=d;switch(h){case"multidrag":v=d.map((I,A)=>({...I,element:o.clones[A]}));break;case"normal":v=d.map(I=>({...I,element:o.clone}));break;case"swap":default:u(g)(!0,`mode "${h}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${h}" plugin`)}j(v),d.forEach(I=>{const A=I.oldIndex,z=this.props.clone(I.item,o);y.splice(A,1,z)})}y=y.map(v=>Object.assign(v,{selected:!1})),l(y,this.sortable,x)}onUpdate(o){const{list:a,setList:l}=this.props,h=C(o,a);j(h),T(h);const d=M(h,a);return l(d,this.sortable,x)}onStart(){x.dragging=this}onEnd(){x.dragging=null}onChoose(o){const{list:a,setList:l}=this.props,h=a.map((d,y)=>{let v=d;return y===o.oldIndex&&(v=Object.assign(d,{chosen:!0})),v});l(h,this.sortable,x)}onUnchoose(o){const{list:a,setList:l}=this.props,h=a.map((d,y)=>{let v=d;return y===o.oldIndex&&(v=Object.assign(v,{chosen:!1})),v});l(h,this.sortable,x)}onSpill(o){const{removeOnSpill:a,revertOnSpill:l}=this.props;a&&!l&&b(o.item)}onSelect(o){const{list:a,setList:l}=this.props,h=a.map(d=>Object.assign(d,{selected:!1}));o.newIndicies.forEach(d=>{const y=d.index;if(y===-1){console.log(`"${o.type}" had indice of "${d.index}", which is probably -1 and doesn't usually happen here.`),console.log(o);return}h[y].selected=!0}),l(h,this.sortable,x)}onDeselect(o){const{list:a,setList:l}=this.props,h=a.map(d=>Object.assign(d,{selected:!1}));o.newIndicies.forEach(d=>{const y=d.index;y!==-1&&(h[y].selected=!0)}),l(h,this.sortable,x)}}pe(S,"defaultProps",{clone:o=>o});var D={};p(e.exports,D)})(oe);class ut{constructor(){pe(this,"subs");this.subs=[]}watch(t){this.subs.push(t)}emit(t){this.subs.forEach(n=>{n(t)})}destroy(){this.subs=[]}}const me=new ut,ge=new ut;function re({noMask:e=!1,children:t,eventData:n}){return f.exports.jsxs("div",{className:`form-sandbox__payground__item ${!e&&"form-sandbox__payground--mask"||"under-delete"}`,onClick:r=>{r.stopPropagation(),ge.emit(n)},children:[f.exports.jsx("div",{className:"form-sandbox__payground--delete",onClick:r=>{r.stopPropagation(),me.emit(n)},children:"-"}),t]})}const{FormItem:de}=ve;function Le(e,{renderChild:t,parent:n=null}){return e&&e.map((r,g)=>{var m,j;let u=null;const i=`${((m=r.formData)==null?void 0:m.formName)||r.compName}:${r.itemId}`,p=`${((j=r.formData)==null?void 0:j.placeHolder)||r.compName}`,b={idx:g,parent:n,current:e};switch(r.compType){case"wrap":u=f.exports.jsxs(re,{eventData:b,noMask:!0,children:[f.exports.jsx("p",{children:i}),t&&t(r)]});break;case"date-picker":u=f.exports.jsx(re,{eventData:b,children:f.exports.jsx(de,{labelAlign:"top",label:i,children:f.exports.jsx(Vt,{mode:"date",placeholder:p})})});break;case"selector":u=f.exports.jsx(re,{eventData:b,children:f.exports.jsx(de,{labelAlign:"top",label:i,children:f.exports.jsx(zt,{options:[{label:"\u9009\u9879\u4E00",value:"1"}],placeholder:p})})});break;default:u=f.exports.jsx(re,{eventData:b,children:f.exports.jsx(de,{labelAlign:"top",label:i,children:f.exports.jsx(ct,{readonly:!0,placeholder:p})})})}return f.exports.jsx("div",{className:"form-sandbox__payground__box","comp-type":r.compType,children:u},r.itemId)})}function Zt(){this.__data__=[],this.size=0}function pt(e,t){return e===t||e!==e&&t!==t}function ce(e,t){for(var n=e.length;n--;)if(pt(e[n][0],t))return n;return-1}var Qt=Array.prototype,en=Qt.splice;function tn(e){var t=this.__data__,n=ce(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():en.call(t,n,1),--this.size,!0}function nn(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]}function rn(e){return ce(this.__data__,e)>-1}function on(e,t){var n=this.__data__,r=ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function N(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}N.prototype.clear=Zt;N.prototype.delete=tn;N.prototype.get=nn;N.prototype.has=rn;N.prototype.set=on;function sn(){this.__data__=new N,this.size=0}function an(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function cn(e){return this.__data__.get(e)}function ln(e){return this.__data__.has(e)}var un=typeof global=="object"&&global&&global.Object===Object&&global;const dt=un;var pn=typeof self=="object"&&self&&self.Object===Object&&self,dn=dt||pn||Function("return this")();const F=dn;var fn=F.Symbol;const V=fn;var ft=Object.prototype,bn=ft.hasOwnProperty,hn=ft.toString,J=V?V.toStringTag:void 0;function mn(e){var t=bn.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch{}var g=hn.call(e);return r&&(t?e[J]=n:delete e[J]),g}var gn=Object.prototype,xn=gn.toString;function yn(e){return xn.call(e)}var $n="[object Null]",_n="[object Undefined]",Re=V?V.toStringTag:void 0;function Q(e){return e==null?e===void 0?_n:$n:Re&&Re in Object(e)?mn(e):yn(e)}function ee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var vn="[object AsyncFunction]",jn="[object Function]",wn="[object GeneratorFunction]",Tn="[object Proxy]";function bt(e){if(!ee(e))return!1;var t=Q(e);return t==jn||t==wn||t==vn||t==Tn}var On=F["__core-js_shared__"];const fe=On;var Ue=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function In(e){return!!Ue&&Ue in e}var Cn=Function.prototype,Sn=Cn.toString;function H(e){if(e!=null){try{return Sn.call(e)}catch{}try{return e+""}catch{}}return""}var An=/[\\^$.*+?()[\]{}|]/g,En=/^\[object .+?Constructor\]$/,Dn=Function.prototype,Pn=Object.prototype,Fn=Dn.toString,Nn=Pn.hasOwnProperty,Mn=RegExp("^"+Fn.call(Nn).replace(An,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ln(e){if(!ee(e)||In(e))return!1;var t=bt(e)?Mn:En;return t.test(H(e))}function Rn(e,t){return e==null?void 0:e[t]}function G(e,t){var n=Rn(e,t);return Ln(n)?n:void 0}var Un=G(F,"Map");const X=Un;var Bn=G(Object,"create");const Z=Bn;function Hn(){this.__data__=Z?Z(null):{},this.size=0}function Gn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var zn="__lodash_hash_undefined__",Vn=Object.prototype,kn=Vn.hasOwnProperty;function Kn(e){var t=this.__data__;if(Z){var n=t[e];return n===zn?void 0:n}return kn.call(t,e)?t[e]:void 0}var Wn=Object.prototype,qn=Wn.hasOwnProperty;function Jn(e){var t=this.__data__;return Z?t[e]!==void 0:qn.call(t,e)}var Yn="__lodash_hash_undefined__";function Xn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z&&t===void 0?Yn:t,this}function B(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B.prototype.clear=Hn;B.prototype.delete=Gn;B.prototype.get=Kn;B.prototype.has=Jn;B.prototype.set=Xn;function Zn(){this.size=0,this.__data__={hash:new B,map:new(X||N),string:new B}}function Qn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function le(e,t){var n=e.__data__;return Qn(t)?n[typeof t=="string"?"string":"hash"]:n.map}function er(e){var t=le(this,e).delete(e);return this.size-=t?1:0,t}function tr(e){return le(this,e).get(e)}function nr(e){return le(this,e).has(e)}function rr(e,t){var n=le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function K(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}K.prototype.clear=Zn;K.prototype.delete=er;K.prototype.get=tr;K.prototype.has=nr;K.prototype.set=rr;var or=200;function sr(e,t){var n=this.__data__;if(n instanceof N){var r=n.__data__;if(!X||r.length<or-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(e,t),this.size=n.size,this}function W(e){var t=this.__data__=new N(e);this.size=t.size}W.prototype.clear=sn;W.prototype.delete=an;W.prototype.get=cn;W.prototype.has=ln;W.prototype.set=sr;function ar(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var ir=function(){try{var e=G(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Be=ir;function ht(e,t,n){t=="__proto__"&&Be?Be(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var cr=Object.prototype,lr=cr.hasOwnProperty;function mt(e,t,n){var r=e[t];(!(lr.call(e,t)&&pt(r,n))||n===void 0&&!(t in e))&&ht(e,t,n)}function ue(e,t,n,r){var g=!n;n||(n={});for(var u=-1,i=t.length;++u<i;){var p=t[u],b=r?r(n[p],e[p],p,n,e):void 0;b===void 0&&(b=e[p]),g?ht(n,p,b):mt(n,p,b)}return n}function ur(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function te(e){return e!=null&&typeof e=="object"}var pr="[object Arguments]";function He(e){return te(e)&&Q(e)==pr}var gt=Object.prototype,dr=gt.hasOwnProperty,fr=gt.propertyIsEnumerable,br=He(function(){return arguments}())?He:function(e){return te(e)&&dr.call(e,"callee")&&!fr.call(e,"callee")};const hr=br;var mr=Array.isArray;const je=mr;function gr(){return!1}var xt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ge=xt&&typeof module=="object"&&module&&!module.nodeType&&module,xr=Ge&&Ge.exports===xt,ze=xr?F.Buffer:void 0,yr=ze?ze.isBuffer:void 0,$r=yr||gr;const yt=$r;var _r=9007199254740991,vr=/^(?:0|[1-9]\d*)$/;function jr(e,t){var n=typeof e;return t=t==null?_r:t,!!t&&(n=="number"||n!="symbol"&&vr.test(e))&&e>-1&&e%1==0&&e<t}var wr=9007199254740991;function $t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wr}var Tr="[object Arguments]",Or="[object Array]",Ir="[object Boolean]",Cr="[object Date]",Sr="[object Error]",Ar="[object Function]",Er="[object Map]",Dr="[object Number]",Pr="[object Object]",Fr="[object RegExp]",Nr="[object Set]",Mr="[object String]",Lr="[object WeakMap]",Rr="[object ArrayBuffer]",Ur="[object DataView]",Br="[object Float32Array]",Hr="[object Float64Array]",Gr="[object Int8Array]",zr="[object Int16Array]",Vr="[object Int32Array]",kr="[object Uint8Array]",Kr="[object Uint8ClampedArray]",Wr="[object Uint16Array]",qr="[object Uint32Array]",_={};_[Br]=_[Hr]=_[Gr]=_[zr]=_[Vr]=_[kr]=_[Kr]=_[Wr]=_[qr]=!0;_[Tr]=_[Or]=_[Rr]=_[Ir]=_[Ur]=_[Cr]=_[Sr]=_[Ar]=_[Er]=_[Dr]=_[Pr]=_[Fr]=_[Nr]=_[Mr]=_[Lr]=!1;function Jr(e){return te(e)&&$t(e.length)&&!!_[Q(e)]}function we(e){return function(t){return e(t)}}var _t=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Y=_t&&typeof module=="object"&&module&&!module.nodeType&&module,Yr=Y&&Y.exports===_t,be=Yr&&dt.process,Xr=function(){try{var e=Y&&Y.require&&Y.require("util").types;return e||be&&be.binding&&be.binding("util")}catch{}}();const k=Xr;var Ve=k&&k.isTypedArray,Zr=Ve?we(Ve):Jr;const Qr=Zr;var eo=Object.prototype,to=eo.hasOwnProperty;function vt(e,t){var n=je(e),r=!n&&hr(e),g=!n&&!r&&yt(e),u=!n&&!r&&!g&&Qr(e),i=n||r||g||u,p=i?ur(e.length,String):[],b=p.length;for(var m in e)(t||to.call(e,m))&&!(i&&(m=="length"||g&&(m=="offset"||m=="parent")||u&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||jr(m,b)))&&p.push(m);return p}var no=Object.prototype;function Te(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||no;return e===n}function jt(e,t){return function(n){return e(t(n))}}var ro=jt(Object.keys,Object);const oo=ro;var so=Object.prototype,ao=so.hasOwnProperty;function io(e){if(!Te(e))return oo(e);var t=[];for(var n in Object(e))ao.call(e,n)&&n!="constructor"&&t.push(n);return t}function wt(e){return e!=null&&$t(e.length)&&!bt(e)}function Oe(e){return wt(e)?vt(e):io(e)}function co(e,t){return e&&ue(t,Oe(t),e)}function lo(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var uo=Object.prototype,po=uo.hasOwnProperty;function fo(e){if(!ee(e))return lo(e);var t=Te(e),n=[];for(var r in e)r=="constructor"&&(t||!po.call(e,r))||n.push(r);return n}function Ie(e){return wt(e)?vt(e,!0):fo(e)}function bo(e,t){return e&&ue(t,Ie(t),e)}var Tt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ke=Tt&&typeof module=="object"&&module&&!module.nodeType&&module,ho=ke&&ke.exports===Tt,Ke=ho?F.Buffer:void 0,We=Ke?Ke.allocUnsafe:void 0;function mo(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function go(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function xo(e,t){for(var n=-1,r=e==null?0:e.length,g=0,u=[];++n<r;){var i=e[n];t(i,n,e)&&(u[g++]=i)}return u}function Ot(){return[]}var yo=Object.prototype,$o=yo.propertyIsEnumerable,qe=Object.getOwnPropertySymbols,_o=qe?function(e){return e==null?[]:(e=Object(e),xo(qe(e),function(t){return $o.call(e,t)}))}:Ot;const Ce=_o;function vo(e,t){return ue(e,Ce(e),t)}function It(e,t){for(var n=-1,r=t.length,g=e.length;++n<r;)e[g+n]=t[n];return e}var jo=jt(Object.getPrototypeOf,Object);const Ct=jo;var wo=Object.getOwnPropertySymbols,To=wo?function(e){for(var t=[];e;)It(t,Ce(e)),e=Ct(e);return t}:Ot;const St=To;function Oo(e,t){return ue(e,St(e),t)}function At(e,t,n){var r=t(e);return je(e)?r:It(r,n(e))}function Io(e){return At(e,Oe,Ce)}function Co(e){return At(e,Ie,St)}var So=G(F,"DataView");const xe=So;var Ao=G(F,"Promise");const ye=Ao;var Eo=G(F,"Set");const $e=Eo;var Do=G(F,"WeakMap");const _e=Do;var Je="[object Map]",Po="[object Object]",Ye="[object Promise]",Xe="[object Set]",Ze="[object WeakMap]",Qe="[object DataView]",Fo=H(xe),No=H(X),Mo=H(ye),Lo=H($e),Ro=H(_e),R=Q;(xe&&R(new xe(new ArrayBuffer(1)))!=Qe||X&&R(new X)!=Je||ye&&R(ye.resolve())!=Ye||$e&&R(new $e)!=Xe||_e&&R(new _e)!=Ze)&&(R=function(e){var t=Q(e),n=t==Po?e.constructor:void 0,r=n?H(n):"";if(r)switch(r){case Fo:return Qe;case No:return Je;case Mo:return Ye;case Lo:return Xe;case Ro:return Ze}return t});const Se=R;var Uo=Object.prototype,Bo=Uo.hasOwnProperty;function Ho(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Bo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Go=F.Uint8Array;const et=Go;function Ae(e){var t=new e.constructor(e.byteLength);return new et(t).set(new et(e)),t}function zo(e,t){var n=t?Ae(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var Vo=/\w*$/;function ko(e){var t=new e.constructor(e.source,Vo.exec(e));return t.lastIndex=e.lastIndex,t}var tt=V?V.prototype:void 0,nt=tt?tt.valueOf:void 0;function Ko(e){return nt?Object(nt.call(e)):{}}function Wo(e,t){var n=t?Ae(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var qo="[object Boolean]",Jo="[object Date]",Yo="[object Map]",Xo="[object Number]",Zo="[object RegExp]",Qo="[object Set]",es="[object String]",ts="[object Symbol]",ns="[object ArrayBuffer]",rs="[object DataView]",os="[object Float32Array]",ss="[object Float64Array]",as="[object Int8Array]",is="[object Int16Array]",cs="[object Int32Array]",ls="[object Uint8Array]",us="[object Uint8ClampedArray]",ps="[object Uint16Array]",ds="[object Uint32Array]";function fs(e,t,n){var r=e.constructor;switch(t){case ns:return Ae(e);case qo:case Jo:return new r(+e);case rs:return zo(e,n);case os:case ss:case as:case is:case cs:case ls:case us:case ps:case ds:return Wo(e,n);case Yo:return new r;case Xo:case es:return new r(e);case Zo:return ko(e);case Qo:return new r;case ts:return Ko(e)}}var rt=Object.create,bs=function(){function e(){}return function(t){if(!ee(t))return{};if(rt)return rt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const hs=bs;function ms(e){return typeof e.constructor=="function"&&!Te(e)?hs(Ct(e)):{}}var gs="[object Map]";function xs(e){return te(e)&&Se(e)==gs}var ot=k&&k.isMap,ys=ot?we(ot):xs;const $s=ys;var _s="[object Set]";function vs(e){return te(e)&&Se(e)==_s}var st=k&&k.isSet,js=st?we(st):vs;const ws=js;var Ts=1,Os=2,Is=4,Et="[object Arguments]",Cs="[object Array]",Ss="[object Boolean]",As="[object Date]",Es="[object Error]",Dt="[object Function]",Ds="[object GeneratorFunction]",Ps="[object Map]",Fs="[object Number]",Pt="[object Object]",Ns="[object RegExp]",Ms="[object Set]",Ls="[object String]",Rs="[object Symbol]",Us="[object WeakMap]",Bs="[object ArrayBuffer]",Hs="[object DataView]",Gs="[object Float32Array]",zs="[object Float64Array]",Vs="[object Int8Array]",ks="[object Int16Array]",Ks="[object Int32Array]",Ws="[object Uint8Array]",qs="[object Uint8ClampedArray]",Js="[object Uint16Array]",Ys="[object Uint32Array]",$={};$[Et]=$[Cs]=$[Bs]=$[Hs]=$[Ss]=$[As]=$[Gs]=$[zs]=$[Vs]=$[ks]=$[Ks]=$[Ps]=$[Fs]=$[Pt]=$[Ns]=$[Ms]=$[Ls]=$[Rs]=$[Ws]=$[qs]=$[Js]=$[Ys]=!0;$[Es]=$[Dt]=$[Us]=!1;function se(e,t,n,r,g,u){var i,p=t&Ts,b=t&Os,m=t&Is;if(n&&(i=g?n(e,r,g,u):n(e)),i!==void 0)return i;if(!ee(e))return e;var j=je(e);if(j){if(i=Ho(e),!p)return go(e,i)}else{var T=Se(e),C=T==Dt||T==Ds;if(yt(e))return mo(e,p);if(T==Pt||T==Et||C&&!g){if(i=b||C?{}:ms(e),!p)return b?Oo(e,bo(i,e)):vo(e,co(i,e))}else{if(!$[T])return g?e:{};i=fs(e,T,p)}}u||(u=new W);var M=u.get(e);if(M)return M;u.set(e,i),ws(e)?e.forEach(function(w){i.add(se(w,t,n,w,e,u))}):$s(e)&&e.forEach(function(w,c){i.set(c,se(w,t,n,c,e,u))});var L=m?b?Co:Io:b?Ie:Oe,E=j?void 0:L(e);return ar(E||e,function(w,c){E&&(c=w,w=e[c]),mt(i,c,se(w,t,n,c,e,u))}),i}var Xs=1,Zs=4;function ae(e){return se(e,Xs|Zs)}var U=(e=>(e.ON_ADD="add",e.ON_REMOVE="remove",e.ON_UPDATE="update",e.ON_RESET="reset",e))(U||{});const Qs=Rt.createContext(null),ea=[{label:"\u5E03\u5C40",type:"radio",name:"layout",defaultValue:"single",options:[{label:"\u5355\u5217",value:"single"},{label:"\u591A\u5217",value:"multi"}]}],ta=[{label:"\u8868\u5355\u540D\u79F0",type:"input",name:"formName"},{label:"\u8868\u5355\u5360\u4F4D\u7B26",type:"input",name:"placeHolder"}],na=[{label:"\u8868\u5355\u540D\u79F0",type:"input",name:"formName"},{label:"\u8868\u5355\u5360\u4F4D\u7B26",type:"input",name:"placeHolder"}],ra=[{label:"\u8868\u5355\u540D\u79F0",type:"input",name:"formName"},{label:"\u8868\u5355\u5360\u4F4D\u7B26",type:"input",name:"placeHolder"}],oa={wrap:ea,input:ta,selector:na,"data-picker":ra};const{FormItem:at}=ve;function sa(e){const[t,n]=P.exports.useState({}),r=P.exports.useRef(),g=async i=>{const p=r.current;p.validate().then(b=>{if(b===!0){const m=p.getFieldsValue(!0);Object.assign(t.formData,m),console.log("\u8868\u5355\u9879\u4FEE\u6539\uFF1A",t),e.onClose()}})},u=P.exports.useMemo(()=>{var i;return(i=oa[t.compType])==null?void 0:i.map((p,b)=>{let m=null;const{formData:j,itemId:T}=t,C=`${T}-dispose-${b}`,{options:M,defaultValue:L}=p;switch(p.type){case"radio":m=f.exports.jsx(Me.Group,{value:j[p.name]||L,children:M.map((E,w)=>f.exports.jsx(Me,{defaultChecked:j[p.name]===E.value,value:E.value,children:E.label},`${C}-${E.value}`))});break;default:m=f.exports.jsx(ct,{})}return f.exports.jsx(at,{label:p.label,name:p.name,children:m},C)})},[t.compType]);return P.exports.useEffect(()=>{const{idx:i,current:p}=e.data,b=r.current,{formData:m}=p[i];console.log("\u5F53\u524D\u8868\u5355\uFF1A",p[i]),n(p[i]),m&&b.setFieldsValue(m)},[e.data,t.formData]),f.exports.jsx("div",{className:"form-sandbox__dispose",children:f.exports.jsxs(ve,{className:"form-sandbox__tform",ref:r,labelAlign:"top",labelWidth:80,children:[f.exports.jsxs("div",{className:"form-sandbox__form",children:[f.exports.jsxs("p",{children:[t.compName,":",t.itemId]}),(t==null?void 0:t.compType)&&u]}),f.exports.jsxs(at,{style:{marginLeft:100},children:[f.exports.jsx(ie,{theme:"primary",style:{marginRight:10},onClick:g,children:"\u63D0\u4EA4"}),f.exports.jsx(ie,{theme:"default",variant:"base",type:"reset",onClick:e.onClose,children:"\u53D6\u6D88"})]})]})})}const aa=[{compId:"2",compName:"\u8F93\u5165\u6846",compType:"input",chosen:!1,selected:!1,itemId:"formId-Q2rezGsi",parentId:null,nodeIndex:0,formData:{},children:[]},{compId:"3",compName:"\u4E0B\u62C9\u9009\u62E9\u5668",compType:"selector",chosen:!1,selected:!1,itemId:"formId-Ed2MGdaZ",parentId:null,nodeIndex:1,formData:{},children:[]}];const ia=[{compId:"1",compName:"\u6805\u683C",compType:"wrap"},{compId:"2",compName:"\u8F93\u5165\u6846",compType:"input"},{compId:"3",compName:"\u4E0B\u62C9\u9009\u62E9\u5668",compType:"selector"},{compId:"4",compName:"\u65E5\u671F\u9009\u62E9\u5668",compType:"date-picker"}],Ft=ae(aa),ca={value:Ft,hash:{}};let he=[];function la(e,t){let n;const{eventType:r,selected:g,toDelete:u}=t;switch(r){case U.ON_RESET:n=g;break;case U.ON_REMOVE:const b=m=>m.itemId===u.itemId&&m.parentId===u.parentId;n=he.filter(m=>!b(m));break;default:n=[...he.filter(m=>g.findIndex(j=>j.itemId===m.itemId)===-1),...g]}he=n;const[i,p]=Ut(n,null);return{value:i,hash:p}}function ya(){const[e,t]=P.exports.useState(ia),[n,r]=P.exports.useReducer(la,ca),[g,u]=P.exports.useState(!1),[i,p]=P.exports.useState({}),b=(c,O,x,S)=>{const D=ae(x),s=ae(c),o=Ht(s,D);r({eventType:O,selected:o,toDelete:S})},m=c=>{const O=c.getAttribute("comp-type");return e.find(S=>S.compType===O)},j=(c,O,x)=>{const{item:S,newDraggableIndex:D}=c,s=m(S);if(!s)return;const o=O;o.splice(D,0,s),b(o,U.ON_ADD,x)},T=(c,O,x)=>{const{newDraggableIndex:S,oldDraggableIndex:D}=c,s=Bt(ae(O),D,S);b(s,U.ON_UPDATE,x)},C=(c,O,x)=>{const{oldDraggableIndex:S}=c,D=O,s=D[S];D.splice(S,1),b(D,U.ON_REMOVE,x,s)},M=()=>{r({eventType:U.ON_RESET,selected:Ft})},L=()=>{console.log(n.value)},E=()=>{const c=kt.confirm({header:"\u63D0\u793A",body:"\u786E\u8BA4\u91CD\u7F6E\u8868\u5355\u5417\uFF1F",theme:"warning",onConfirm:()=>{M(),c.hide()},onClose:()=>{c.hide()}})};function w(c){var O;return f.exports.jsx(oe.exports.ReactSortable,{tag:"div",className:Kt("form-sandbox__payground__wrap",`form-sandbox__payground__wrap--direction--${(O=c.formData)==null?void 0:O.layout}`),group:{name:"component",pull:!0,put:!0},swap:!0,direction:"horizontal",fallbackOnBody:!0,swapThreshold:1,animation:200,list:c.children,onUpdate:x=>{console.log("child-onUpdate\u64CD\u4F5C------------------->"),T(x,c.children,c)},onAdd:x=>{console.log("child-onAdd\u64CD\u4F5C------------------->"),j(x,c.children,c)},onRemove:x=>{console.log("child-onRemove\u64CD\u4F5C------------------->"),C(x,c.children,c)},setList:()=>{},children:c.children&&Le(c.children,{renderChild:w,parent:c})||null})}return P.exports.useEffect(()=>(me.watch(c=>{console.log("\u5220\u9664\u64CD\u4F5C\u6765\u6E90\uFF1A",c),C({oldDraggableIndex:c.idx},c.current,c.parent)}),ge.watch(c=>{u(!0),p(c)}),console.log(n),()=>{me.destroy(),ge.destroy()}),[n.value]),f.exports.jsx(Qs.Provider,{value:{containerState:n},children:f.exports.jsxs("div",{className:"form-sandbox__main",children:[f.exports.jsxs("div",{className:"form-sandbox__components",children:[f.exports.jsx("p",{className:"form-sandbox__components--title",children:"\u9009\u62E9\u7EC4\u4EF6"}),f.exports.jsx(oe.exports.ReactSortable,{tag:"div",group:{name:"component",pull:"clone",put:!1},sort:!1,list:e,setList:c=>{t(c)},children:e.map(c=>f.exports.jsx("div",{className:`form-sandbox__components__item form-sandbox__components--${c.compType}`,"comp-type":c.compType,children:c.compName},c.compId))})]}),f.exports.jsxs("div",{className:"form-sandbox__content",children:[f.exports.jsxs("div",{className:"form-sandbox__operation",children:[f.exports.jsx(ie,{theme:"primary",type:"submit",style:{marginRight:10},onClick:L,children:"\u63D0\u4EA4"}),f.exports.jsx(ie,{type:"reset",onClick:E,children:"\u91CD\u7F6E"})]}),f.exports.jsx(oe.exports.ReactSortable,{tag:"div",className:"form-sandbox__payground",group:{name:"component",pull:!0,put:!0},swap:!0,direction:"horizontal",fallbackOnBody:!0,swapThreshold:1,animation:200,list:n.value,onUpdate:c=>{console.log("container-onUpdate\u64CD\u4F5C------------------->"),T(c,n.value,null)},onAdd:c=>{console.log("container-onAdd\u64CD\u4F5C------------------->"),j(c,n.value,null)},onRemove:c=>{console.log("container-onRemove\u64CD\u4F5C------------------->"),C(c,n.value,null)},setList:()=>{},children:Le(n.value,{renderChild:w})}),g&&f.exports.jsx(sa,{data:i,onClose:()=>{u(!1)}})]})]})})}export{ya as default};
