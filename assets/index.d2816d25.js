var Mt=Object.defineProperty;var Lt=(e,t,n)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var pe=(e,t,n)=>(Lt(e,typeof t!="symbol"?t+"":t,n),n);import{s as ct,r as D,R as Rt}from"./vendor.abe2ed9a.js";import{j as b,a as Ut,b as Bt,m as Ht,c as Gt}from"./index.0342dc59.js";import{s as zt,I as lt,j as Vt,k as Kt,F as _e,l as Ne,m as kt,f as Me,n as Wt,o as qt}from"./layout.2ff61d0d.js";var oe={exports:{}};const Jt=ct(zt);var ut={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],m=0;m<arguments.length;m++){var c=arguments[m];if(!!c){var u=typeof c;if(u==="string"||u==="number")r.push(c);else if(Array.isArray(c)){if(c.length){var g=n.apply(null,c);g&&r.push(g)}}else if(u==="object")if(c.toString===Object.prototype.toString)for(var d in c)t.call(c,d)&&c[d]&&r.push(d);else r.push(c.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(ut);var Yt="Invariant failed";function Xt(e,t){if(!e)throw new Error(Yt)}const Zt=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"})),Qt=ct(Zt);(function(e){var t=Jt,n=ut.exports,r=D.exports,m=Qt;function c(s){return s&&s.__esModule?s.default:s}function u(s,o,i,l){Object.defineProperty(s,o,{get:i,set:l,enumerable:!0,configurable:!0})}function g(s,o){return Object.keys(o).forEach(function(i){i==="default"||i==="__esModule"||s.hasOwnProperty(i)||Object.defineProperty(s,i,{enumerable:!0,get:function(){return o[i]}})}),s}u(e.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),u(e.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),u(e.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),u(e.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),u(e.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),u(e.exports,"Options",()=>$882b6d93070905b3$re_export$Options),u(e.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),u(e.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),u(e.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),u(e.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),u(e.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),u(e.exports,"ReactSortable",()=>C);function d(s){s.parentElement!==null&&s.parentElement.removeChild(s)}function f(s,o,i){const l=s.children[i]||null;s.insertBefore(o,l)}function w(s){s.forEach(o=>d(o.element))}function T(s){s.forEach(o=>{f(o.parentElement,o.element,o.oldIndex)})}function S(s,o){const i=O(s),l={parentElement:s.from};let h=[];switch(i){case"normal":h=[{element:s.item,newIndex:s.newIndex,oldIndex:s.oldIndex,parentElement:s.from}];break;case"swap":const j={element:s.item,oldIndex:s.oldIndex,newIndex:s.newIndex,...l},I={element:s.swapItem,oldIndex:s.newIndex,newIndex:s.oldIndex,...l};h=[j,I];break;case"multidrag":h=s.oldIndicies.map((A,z)=>({element:A.multiDragElement,oldIndex:A.index,newIndex:s.newIndicies[z].index,...l}));break}return a(h,o)}function L(s,o){const i=F(s,o);return N(s,i)}function F(s,o){const i=[...o];return s.concat().reverse().forEach(l=>i.splice(l.oldIndex,1)),i}function N(s,o,i,l){const h=[...o];return s.forEach(p=>{const y=l&&i&&l(p.item,i);h.splice(p.newIndex,0,y||p.item)}),h}function O(s){return s.oldIndicies&&s.oldIndicies.length>0?"multidrag":s.swapItem?"swap":"normal"}function a(s,o){return s.map(l=>({...l,item:o[l.oldIndex]})).sort((l,h)=>l.oldIndex-h.oldIndex)}function v(s){const{list:o,setList:i,children:l,tag:h,style:p,className:y,clone:j,onAdd:I,onChange:A,onChoose:z,onClone:Ae,onEnd:q,onFilter:Ee,onRemove:ne,onSort:De,onStart:Pe,onUnchoose:Fe,onUpdate:fa,onMove:ba,onSpill:ha,onSelect:ma,onDeselect:ga,...Nt}=s;return Nt}const x={dragging:null};class C extends r.Component{constructor(o){super(o),this.ref=(0,r.createRef)();const i=[...o.list].map(l=>Object.assign(l,{chosen:!1,selected:!1}));o.setList(i,this.sortable,x),c(m)(!o.plugins,`
Plugins prop is no longer supported.
Instead, mount it with "Sortable.mount(new MultiDrag())"
Please read the updated README.md at https://github.com/SortableJS/react-sortablejs.
      `)}componentDidMount(){if(this.ref.current===null)return;const o=this.makeOptions();c(t).create(this.ref.current,o)}componentDidUpdate(o){o.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:o,style:i,className:l,id:h}=this.props,p={style:i,className:l,id:h},y=!o||o===null?"div":o;return(0,r.createElement)(y,{ref:this.ref,...p},this.getChildren())}getChildren(){const{children:o,dataIdAttr:i,selectedClass:l="sortable-selected",chosenClass:h="sortable-chosen",dragClass:p="sortable-drag",fallbackClass:y="sortable-falback",ghostClass:j="sortable-ghost",swapClass:I="sortable-swap-highlight",filter:A="sortable-filter",list:z}=this.props;if(!o||o==null)return null;const Ae=i||"data-id";return r.Children.map(o,(q,Ee)=>{if(q===void 0)return;const ne=z[Ee]||{},{className:De}=q.props,Pe=typeof A=="string"&&{[A.replace(".","")]:!!ne.filtered},Fe=c(n)(De,{[l]:ne.selected,[h]:ne.chosen,...Pe});return(0,r.cloneElement)(q,{[Ae]:q.key,className:Fe})})}get sortable(){const o=this.ref.current;if(o===null)return null;const i=Object.keys(o).find(l=>l.includes("Sortable"));return i?o[i]:null}makeOptions(){const o=["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"],i=["onChange","onClone","onFilter","onSort"],l=v(this.props);return o.forEach(p=>l[p]=this.prepareOnHandlerPropAndDOM(p)),i.forEach(p=>l[p]=this.prepareOnHandlerProp(p)),{...l,onMove:(p,y)=>{const{onMove:j}=this.props,I=p.willInsertAfter||-1;if(!j)return I;const A=j(p,y,this.sortable,x);return typeof A>"u"?!1:A}}}prepareOnHandlerPropAndDOM(o){return i=>{this.callOnHandlerProp(i,o),this[o](i)}}prepareOnHandlerProp(o){return i=>{this.callOnHandlerProp(i,o)}}callOnHandlerProp(o,i){const l=this.props[i];l&&l(o,this.sortable,x)}onAdd(o){const{list:i,setList:l,clone:h}=this.props,p=[...x.dragging.props.list],y=S(o,p);w(y);const j=N(y,i,o,h).map(I=>Object.assign(I,{selected:!1}));l(j,this.sortable,x)}onRemove(o){const{list:i,setList:l}=this.props,h=O(o),p=S(o,i);T(p);let y=[...i];if(o.pullMode!=="clone")y=F(p,y);else{let j=p;switch(h){case"multidrag":j=p.map((I,A)=>({...I,element:o.clones[A]}));break;case"normal":j=p.map(I=>({...I,element:o.clone}));break;case"swap":default:c(m)(!0,`mode "${h}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${h}" plugin`)}w(j),p.forEach(I=>{const A=I.oldIndex,z=this.props.clone(I.item,o);y.splice(A,1,z)})}y=y.map(j=>Object.assign(j,{selected:!1})),l(y,this.sortable,x)}onUpdate(o){const{list:i,setList:l}=this.props,h=S(o,i);w(h),T(h);const p=L(h,i);return l(p,this.sortable,x)}onStart(){x.dragging=this}onEnd(){x.dragging=null}onChoose(o){const{list:i,setList:l}=this.props,h=i.map((p,y)=>{let j=p;return y===o.oldIndex&&(j=Object.assign(p,{chosen:!0})),j});l(h,this.sortable,x)}onUnchoose(o){const{list:i,setList:l}=this.props,h=i.map((p,y)=>{let j=p;return y===o.oldIndex&&(j=Object.assign(j,{chosen:!1})),j});l(h,this.sortable,x)}onSpill(o){const{removeOnSpill:i,revertOnSpill:l}=this.props;i&&!l&&d(o.item)}onSelect(o){const{list:i,setList:l}=this.props,h=i.map(p=>Object.assign(p,{selected:!1}));o.newIndicies.forEach(p=>{const y=p.index;if(y===-1){console.log(`"${o.type}" had indice of "${p.index}", which is probably -1 and doesn't usually happen here.`),console.log(o);return}h[y].selected=!0}),l(h,this.sortable,x)}onDeselect(o){const{list:i,setList:l}=this.props,h=i.map(p=>Object.assign(p,{selected:!1}));o.newIndicies.forEach(p=>{const y=p.index;y!==-1&&(h[y].selected=!0)}),l(h,this.sortable,x)}}pe(C,"defaultProps",{clone:o=>o});var E={};g(e.exports,E)})(oe);class pt{constructor(){pe(this,"subs");this.subs=[]}watch(t){this.subs.push(t)}emit(t){this.subs.forEach(n=>{n(t)})}destroy(){this.subs=[]}}const he=new pt,me=new pt;function re({noMask:e=!1,children:t,eventData:n}){return b.exports.jsxs("div",{className:`form-sandbox__payground__item ${!e&&"form-sandbox__payground--mask"||"under-delete"}`,onClick:r=>{r.stopPropagation(),me.emit(n)},children:[b.exports.jsx("div",{className:"form-sandbox__payground--delete",onClick:r=>{r.stopPropagation(),he.emit(n)},children:"-"}),t]})}const{FormItem:de}=_e;function Le(e,{renderChild:t,parent:n=null}){return e&&e.map((r,m)=>{var f,w;let c=null;const u=b.exports.jsxs(b.exports.Fragment,{children:[b.exports.jsx("span",{children:((f=r.formData)==null?void 0:f.formName)||r.compName}),b.exports.jsx("span",{className:"form-sandbox__payground__idtext",children:r.itemId})]}),g=`${((w=r.formData)==null?void 0:w.placeHolder)||r.compName}`,d={idx:m,parent:n,current:e};switch(r.compType){case"wrap":c=b.exports.jsxs(re,{eventData:d,noMask:!0,children:[b.exports.jsx("p",{children:u}),t&&t(r)]});break;case"date-picker":c=b.exports.jsx(re,{eventData:d,children:b.exports.jsx(de,{labelAlign:"top",label:u,children:b.exports.jsx(Kt,{mode:"date",placeholder:g})})});break;case"selector":c=b.exports.jsx(re,{eventData:d,children:b.exports.jsx(de,{labelAlign:"top",label:u,children:b.exports.jsx(Vt,{options:[{label:"\u9009\u9879\u4E00",value:"1"}],placeholder:g})})});break;default:c=b.exports.jsx(re,{eventData:d,children:b.exports.jsx(de,{labelAlign:"top",label:u,children:b.exports.jsx(lt,{readonly:!0,placeholder:g})})})}return b.exports.jsx("div",{className:"form-sandbox__payground__box","comp-type":r.compType,children:c},r.itemId)})}function en(){this.__data__=[],this.size=0}function dt(e,t){return e===t||e!==e&&t!==t}function ce(e,t){for(var n=e.length;n--;)if(dt(e[n][0],t))return n;return-1}var tn=Array.prototype,nn=tn.splice;function rn(e){var t=this.__data__,n=ce(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():nn.call(t,n,1),--this.size,!0}function on(e){var t=this.__data__,n=ce(t,e);return n<0?void 0:t[n][1]}function sn(e){return ce(this.__data__,e)>-1}function an(e,t){var n=this.__data__,r=ce(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function M(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}M.prototype.clear=en;M.prototype.delete=rn;M.prototype.get=on;M.prototype.has=sn;M.prototype.set=an;function cn(){this.__data__=new M,this.size=0}function ln(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function un(e){return this.__data__.get(e)}function pn(e){return this.__data__.has(e)}var dn=typeof global=="object"&&global&&global.Object===Object&&global;const ft=dn;var fn=typeof self=="object"&&self&&self.Object===Object&&self,bn=ft||fn||Function("return this")();const P=bn;var hn=P.Symbol;const V=hn;var bt=Object.prototype,mn=bt.hasOwnProperty,gn=bt.toString,J=V?V.toStringTag:void 0;function xn(e){var t=mn.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch{}var m=gn.call(e);return r&&(t?e[J]=n:delete e[J]),m}var yn=Object.prototype,$n=yn.toString;function _n(e){return $n.call(e)}var vn="[object Null]",jn="[object Undefined]",Re=V?V.toStringTag:void 0;function Q(e){return e==null?e===void 0?jn:vn:Re&&Re in Object(e)?xn(e):_n(e)}function ee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var wn="[object AsyncFunction]",Tn="[object Function]",On="[object GeneratorFunction]",In="[object Proxy]";function ht(e){if(!ee(e))return!1;var t=Q(e);return t==Tn||t==On||t==wn||t==In}var Sn=P["__core-js_shared__"];const fe=Sn;var Ue=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Cn(e){return!!Ue&&Ue in e}var An=Function.prototype,En=An.toString;function H(e){if(e!=null){try{return En.call(e)}catch{}try{return e+""}catch{}}return""}var Dn=/[\\^$.*+?()[\]{}|]/g,Pn=/^\[object .+?Constructor\]$/,Fn=Function.prototype,Nn=Object.prototype,Mn=Fn.toString,Ln=Nn.hasOwnProperty,Rn=RegExp("^"+Mn.call(Ln).replace(Dn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Un(e){if(!ee(e)||Cn(e))return!1;var t=ht(e)?Rn:Pn;return t.test(H(e))}function Bn(e,t){return e==null?void 0:e[t]}function G(e,t){var n=Bn(e,t);return Un(n)?n:void 0}var Hn=G(P,"Map");const X=Hn;var Gn=G(Object,"create");const Z=Gn;function zn(){this.__data__=Z?Z(null):{},this.size=0}function Vn(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Kn="__lodash_hash_undefined__",kn=Object.prototype,Wn=kn.hasOwnProperty;function qn(e){var t=this.__data__;if(Z){var n=t[e];return n===Kn?void 0:n}return Wn.call(t,e)?t[e]:void 0}var Jn=Object.prototype,Yn=Jn.hasOwnProperty;function Xn(e){var t=this.__data__;return Z?t[e]!==void 0:Yn.call(t,e)}var Zn="__lodash_hash_undefined__";function Qn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Z&&t===void 0?Zn:t,this}function B(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B.prototype.clear=zn;B.prototype.delete=Vn;B.prototype.get=qn;B.prototype.has=Xn;B.prototype.set=Qn;function er(){this.size=0,this.__data__={hash:new B,map:new(X||M),string:new B}}function tr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function le(e,t){var n=e.__data__;return tr(t)?n[typeof t=="string"?"string":"hash"]:n.map}function nr(e){var t=le(this,e).delete(e);return this.size-=t?1:0,t}function rr(e){return le(this,e).get(e)}function or(e){return le(this,e).has(e)}function sr(e,t){var n=le(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function k(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}k.prototype.clear=er;k.prototype.delete=nr;k.prototype.get=rr;k.prototype.has=or;k.prototype.set=sr;var ar=200;function ir(e,t){var n=this.__data__;if(n instanceof M){var r=n.__data__;if(!X||r.length<ar-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new k(r)}return n.set(e,t),this.size=n.size,this}function W(e){var t=this.__data__=new M(e);this.size=t.size}W.prototype.clear=cn;W.prototype.delete=ln;W.prototype.get=un;W.prototype.has=pn;W.prototype.set=ir;function cr(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var lr=function(){try{var e=G(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Be=lr;function mt(e,t,n){t=="__proto__"&&Be?Be(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var ur=Object.prototype,pr=ur.hasOwnProperty;function gt(e,t,n){var r=e[t];(!(pr.call(e,t)&&dt(r,n))||n===void 0&&!(t in e))&&mt(e,t,n)}function ue(e,t,n,r){var m=!n;n||(n={});for(var c=-1,u=t.length;++c<u;){var g=t[c],d=r?r(n[g],e[g],g,n,e):void 0;d===void 0&&(d=e[g]),m?mt(n,g,d):gt(n,g,d)}return n}function dr(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function te(e){return e!=null&&typeof e=="object"}var fr="[object Arguments]";function He(e){return te(e)&&Q(e)==fr}var xt=Object.prototype,br=xt.hasOwnProperty,hr=xt.propertyIsEnumerable,mr=He(function(){return arguments}())?He:function(e){return te(e)&&br.call(e,"callee")&&!hr.call(e,"callee")};const gr=mr;var xr=Array.isArray;const ve=xr;function yr(){return!1}var yt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ge=yt&&typeof module=="object"&&module&&!module.nodeType&&module,$r=Ge&&Ge.exports===yt,ze=$r?P.Buffer:void 0,_r=ze?ze.isBuffer:void 0,vr=_r||yr;const $t=vr;var jr=9007199254740991,wr=/^(?:0|[1-9]\d*)$/;function Tr(e,t){var n=typeof e;return t=t==null?jr:t,!!t&&(n=="number"||n!="symbol"&&wr.test(e))&&e>-1&&e%1==0&&e<t}var Or=9007199254740991;function _t(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Or}var Ir="[object Arguments]",Sr="[object Array]",Cr="[object Boolean]",Ar="[object Date]",Er="[object Error]",Dr="[object Function]",Pr="[object Map]",Fr="[object Number]",Nr="[object Object]",Mr="[object RegExp]",Lr="[object Set]",Rr="[object String]",Ur="[object WeakMap]",Br="[object ArrayBuffer]",Hr="[object DataView]",Gr="[object Float32Array]",zr="[object Float64Array]",Vr="[object Int8Array]",Kr="[object Int16Array]",kr="[object Int32Array]",Wr="[object Uint8Array]",qr="[object Uint8ClampedArray]",Jr="[object Uint16Array]",Yr="[object Uint32Array]",_={};_[Gr]=_[zr]=_[Vr]=_[Kr]=_[kr]=_[Wr]=_[qr]=_[Jr]=_[Yr]=!0;_[Ir]=_[Sr]=_[Br]=_[Cr]=_[Hr]=_[Ar]=_[Er]=_[Dr]=_[Pr]=_[Fr]=_[Nr]=_[Mr]=_[Lr]=_[Rr]=_[Ur]=!1;function Xr(e){return te(e)&&_t(e.length)&&!!_[Q(e)]}function je(e){return function(t){return e(t)}}var vt=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Y=vt&&typeof module=="object"&&module&&!module.nodeType&&module,Zr=Y&&Y.exports===vt,be=Zr&&ft.process,Qr=function(){try{var e=Y&&Y.require&&Y.require("util").types;return e||be&&be.binding&&be.binding("util")}catch{}}();const K=Qr;var Ve=K&&K.isTypedArray,eo=Ve?je(Ve):Xr;const to=eo;var no=Object.prototype,ro=no.hasOwnProperty;function jt(e,t){var n=ve(e),r=!n&&gr(e),m=!n&&!r&&$t(e),c=!n&&!r&&!m&&to(e),u=n||r||m||c,g=u?dr(e.length,String):[],d=g.length;for(var f in e)(t||ro.call(e,f))&&!(u&&(f=="length"||m&&(f=="offset"||f=="parent")||c&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Tr(f,d)))&&g.push(f);return g}var oo=Object.prototype;function we(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||oo;return e===n}function wt(e,t){return function(n){return e(t(n))}}var so=wt(Object.keys,Object);const ao=so;var io=Object.prototype,co=io.hasOwnProperty;function lo(e){if(!we(e))return ao(e);var t=[];for(var n in Object(e))co.call(e,n)&&n!="constructor"&&t.push(n);return t}function Tt(e){return e!=null&&_t(e.length)&&!ht(e)}function Te(e){return Tt(e)?jt(e):lo(e)}function uo(e,t){return e&&ue(t,Te(t),e)}function po(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var fo=Object.prototype,bo=fo.hasOwnProperty;function ho(e){if(!ee(e))return po(e);var t=we(e),n=[];for(var r in e)r=="constructor"&&(t||!bo.call(e,r))||n.push(r);return n}function Oe(e){return Tt(e)?jt(e,!0):ho(e)}function mo(e,t){return e&&ue(t,Oe(t),e)}var Ot=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ke=Ot&&typeof module=="object"&&module&&!module.nodeType&&module,go=Ke&&Ke.exports===Ot,ke=go?P.Buffer:void 0,We=ke?ke.allocUnsafe:void 0;function xo(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function yo(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function $o(e,t){for(var n=-1,r=e==null?0:e.length,m=0,c=[];++n<r;){var u=e[n];t(u,n,e)&&(c[m++]=u)}return c}function It(){return[]}var _o=Object.prototype,vo=_o.propertyIsEnumerable,qe=Object.getOwnPropertySymbols,jo=qe?function(e){return e==null?[]:(e=Object(e),$o(qe(e),function(t){return vo.call(e,t)}))}:It;const Ie=jo;function wo(e,t){return ue(e,Ie(e),t)}function St(e,t){for(var n=-1,r=t.length,m=e.length;++n<r;)e[m+n]=t[n];return e}var To=wt(Object.getPrototypeOf,Object);const Ct=To;var Oo=Object.getOwnPropertySymbols,Io=Oo?function(e){for(var t=[];e;)St(t,Ie(e)),e=Ct(e);return t}:It;const At=Io;function So(e,t){return ue(e,At(e),t)}function Et(e,t,n){var r=t(e);return ve(e)?r:St(r,n(e))}function Co(e){return Et(e,Te,Ie)}function Ao(e){return Et(e,Oe,At)}var Eo=G(P,"DataView");const ge=Eo;var Do=G(P,"Promise");const xe=Do;var Po=G(P,"Set");const ye=Po;var Fo=G(P,"WeakMap");const $e=Fo;var Je="[object Map]",No="[object Object]",Ye="[object Promise]",Xe="[object Set]",Ze="[object WeakMap]",Qe="[object DataView]",Mo=H(ge),Lo=H(X),Ro=H(xe),Uo=H(ye),Bo=H($e),R=Q;(ge&&R(new ge(new ArrayBuffer(1)))!=Qe||X&&R(new X)!=Je||xe&&R(xe.resolve())!=Ye||ye&&R(new ye)!=Xe||$e&&R(new $e)!=Ze)&&(R=function(e){var t=Q(e),n=t==No?e.constructor:void 0,r=n?H(n):"";if(r)switch(r){case Mo:return Qe;case Lo:return Je;case Ro:return Ye;case Uo:return Xe;case Bo:return Ze}return t});const Se=R;var Ho=Object.prototype,Go=Ho.hasOwnProperty;function zo(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Go.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Vo=P.Uint8Array;const et=Vo;function Ce(e){var t=new e.constructor(e.byteLength);return new et(t).set(new et(e)),t}function Ko(e,t){var n=t?Ce(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var ko=/\w*$/;function Wo(e){var t=new e.constructor(e.source,ko.exec(e));return t.lastIndex=e.lastIndex,t}var tt=V?V.prototype:void 0,nt=tt?tt.valueOf:void 0;function qo(e){return nt?Object(nt.call(e)):{}}function Jo(e,t){var n=t?Ce(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var Yo="[object Boolean]",Xo="[object Date]",Zo="[object Map]",Qo="[object Number]",es="[object RegExp]",ts="[object Set]",ns="[object String]",rs="[object Symbol]",os="[object ArrayBuffer]",ss="[object DataView]",as="[object Float32Array]",is="[object Float64Array]",cs="[object Int8Array]",ls="[object Int16Array]",us="[object Int32Array]",ps="[object Uint8Array]",ds="[object Uint8ClampedArray]",fs="[object Uint16Array]",bs="[object Uint32Array]";function hs(e,t,n){var r=e.constructor;switch(t){case os:return Ce(e);case Yo:case Xo:return new r(+e);case ss:return Ko(e,n);case as:case is:case cs:case ls:case us:case ps:case ds:case fs:case bs:return Jo(e,n);case Zo:return new r;case Qo:case ns:return new r(e);case es:return Wo(e);case ts:return new r;case rs:return qo(e)}}var rt=Object.create,ms=function(){function e(){}return function(t){if(!ee(t))return{};if(rt)return rt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const gs=ms;function xs(e){return typeof e.constructor=="function"&&!we(e)?gs(Ct(e)):{}}var ys="[object Map]";function $s(e){return te(e)&&Se(e)==ys}var ot=K&&K.isMap,_s=ot?je(ot):$s;const vs=_s;var js="[object Set]";function ws(e){return te(e)&&Se(e)==js}var st=K&&K.isSet,Ts=st?je(st):ws;const Os=Ts;var Is=1,Ss=2,Cs=4,Dt="[object Arguments]",As="[object Array]",Es="[object Boolean]",Ds="[object Date]",Ps="[object Error]",Pt="[object Function]",Fs="[object GeneratorFunction]",Ns="[object Map]",Ms="[object Number]",Ft="[object Object]",Ls="[object RegExp]",Rs="[object Set]",Us="[object String]",Bs="[object Symbol]",Hs="[object WeakMap]",Gs="[object ArrayBuffer]",zs="[object DataView]",Vs="[object Float32Array]",Ks="[object Float64Array]",ks="[object Int8Array]",Ws="[object Int16Array]",qs="[object Int32Array]",Js="[object Uint8Array]",Ys="[object Uint8ClampedArray]",Xs="[object Uint16Array]",Zs="[object Uint32Array]",$={};$[Dt]=$[As]=$[Gs]=$[zs]=$[Es]=$[Ds]=$[Vs]=$[Ks]=$[ks]=$[Ws]=$[qs]=$[Ns]=$[Ms]=$[Ft]=$[Ls]=$[Rs]=$[Us]=$[Bs]=$[Js]=$[Ys]=$[Xs]=$[Zs]=!0;$[Ps]=$[Pt]=$[Hs]=!1;function se(e,t,n,r,m,c){var u,g=t&Is,d=t&Ss,f=t&Cs;if(n&&(u=m?n(e,r,m,c):n(e)),u!==void 0)return u;if(!ee(e))return e;var w=ve(e);if(w){if(u=zo(e),!g)return yo(e,u)}else{var T=Se(e),S=T==Pt||T==Fs;if($t(e))return xo(e,g);if(T==Ft||T==Dt||S&&!m){if(u=d||S?{}:xs(e),!g)return d?So(e,mo(u,e)):wo(e,uo(u,e))}else{if(!$[T])return m?e:{};u=hs(e,T,g)}}c||(c=new W);var L=c.get(e);if(L)return L;c.set(e,u),Os(e)?e.forEach(function(O){u.add(se(O,t,n,O,e,c))}):vs(e)&&e.forEach(function(O,a){u.set(a,se(O,t,n,a,e,c))});var F=f?d?Ao:Co:d?Oe:Te,N=w?void 0:F(e);return cr(N||e,function(O,a){N&&(a=O,O=e[a]),gt(u,a,se(O,t,n,a,e,c))}),u}var Qs=1,ea=4;function ae(e){return se(e,Qs|ea)}var U=(e=>(e.ON_ADD="add",e.ON_REMOVE="remove",e.ON_UPDATE="update",e.ON_RESET="reset",e))(U||{});const ta=Rt.createContext(null),na=[{label:"\u5E03\u5C40",type:"radio",name:"layout",defaultValue:"single",options:[{label:"\u5355\u5217",value:"single"},{label:"\u591A\u5217",value:"multi"}]}],ra=[{label:"\u8868\u5355\u540D\u79F0",type:"input",name:"formName"},{label:"\u8868\u5355\u5360\u4F4D\u7B26",type:"input",name:"placeHolder"}],oa=[{label:"\u8868\u5355\u540D\u79F0",type:"input",name:"formName"},{label:"\u8868\u5355\u5360\u4F4D\u7B26",type:"input",name:"placeHolder"}],sa=[{label:"\u8868\u5355\u540D\u79F0",type:"input",name:"formName"},{label:"\u8868\u5355\u5360\u4F4D\u7B26",type:"input",name:"placeHolder"}],aa={wrap:na,input:ra,selector:oa,"data-picker":sa};const{FormItem:ia}=_e;function ca({onClose:e,data:t,visible:n}){const[r,m]=D.exports.useState({}),c=D.exports.useRef(),u=async()=>{const d=c.current,[,f]=await Ut(d.validate());if(f===!0){const w=d.getFieldsValue(!0);Object.assign(r.formData,w),console.log("\u8868\u5355\u9879\u4FEE\u6539\uFF1A",r),e()}},g=D.exports.useMemo(()=>{var d;return(d=aa[r.compType])==null?void 0:d.map((f,w)=>{let T=null;const{formData:S,itemId:L}=r,F=`${L}-dispose-${w}`,{options:N,defaultValue:O}=f;switch(f.type){case"radio":T=b.exports.jsx(Ne.Group,{value:S[f.name]||O,children:N.map((a,v)=>b.exports.jsx(Ne,{defaultChecked:S[f.name]===a.value,value:a.value,children:a.label},`${F}-${a.value}`))});break;default:T=b.exports.jsx(lt,{})}return b.exports.jsx(ia,{label:f.label,name:f.name,children:T},F)})},[r.compType]);return D.exports.useEffect(()=>{const{idx:d,current:f}=t;if(!f)return;const w=c.current,{formData:T}=f[d];console.log("\u5F53\u524D\u8868\u5355\uFF1A",f[d]),m(f[d]),T&&w.setFieldsValue(T)},[t,r.formData]),b.exports.jsx(kt,{header:`${r.compName}:${r.itemId}`,visible:n,onClose:e,onConfirm:u,children:n&&b.exports.jsx("div",{className:"form-sandbox__dispose",children:b.exports.jsx(_e,{ref:c,labelAlign:"top",labelWidth:80,children:(r==null?void 0:r.compType)&&g})})})}const la=[{compId:"2",compName:"\u8F93\u5165\u6846",compType:"input",chosen:!1,selected:!1,itemId:"formId-Q2rezGsi",parentId:null,nodeIndex:0,formData:{},children:[]},{compId:"3",compName:"\u4E0B\u62C9\u9009\u62E9\u5668",compType:"selector",chosen:!1,selected:!1,itemId:"formId-Ed2MGdaZ",parentId:null,nodeIndex:1,formData:{},children:[]}];const ua=[{compId:"1",compName:"\u6805\u683C",compType:"wrap"},{compId:"2",compName:"\u8F93\u5165\u6846",compType:"input"},{compId:"3",compName:"\u4E0B\u62C9\u9009\u62E9\u5668",compType:"selector"},{compId:"4",compName:"\u65E5\u671F\u9009\u62E9\u5668",compType:"date-picker"}],at="container_data",it=ae(la),pa={value:[],hash:{}};let ie=[];function da(e,t){let n;const{eventType:r="",selected:m,toDelete:c}=t;switch(r){case U.ON_RESET:n=m;break;case U.ON_REMOVE:const d=f=>f.itemId===c.itemId&&f.parentId===c.parentId;n=ie.filter(f=>!d(f));break;default:n=[...ie.filter(f=>m.findIndex(w=>w.itemId===f.itemId)===-1),...m]}ie=n;const[u,g]=Bt(n,null);return{value:u,hash:g}}function va(){const[e,t]=D.exports.useState(ua),[n,r]=D.exports.useReducer(da,pa),[m,c]=D.exports.useState(!1),[u,g]=D.exports.useState({}),d=(a,v,x,C)=>{const E=x&&ae(x)||null,s=a.length&&ae(a)||[],o=Ht(s,E);r({eventType:v,selected:o,toDelete:C})},f=a=>{const v=a.getAttribute("comp-type");return e.find(C=>C.compType===v)},w=(a,v,x)=>{const{item:C,newDraggableIndex:E}=a,s=f(C);if(!s)return;const o=v;o.splice(E,0,s),d(o,U.ON_ADD,x)},T=(a,v,x)=>{const{newDraggableIndex:C,oldDraggableIndex:E}=a,s=Gt(ae(v),E,C);d(s,U.ON_UPDATE,x)},S=(a,v,x)=>{const{oldDraggableIndex:C}=a,E=v,s=E[C];E.splice(C,1),d(E,U.ON_REMOVE,x,s)},L=()=>{r({eventType:U.ON_RESET,selected:it})},F=()=>{sessionStorage.setItem(at,JSON.stringify(n.value))},N=()=>{const a=Wt.confirm({header:"\u63D0\u793A",body:"\u786E\u8BA4\u91CD\u7F6E\u8868\u5355\u5417\uFF1F",theme:"warning",onConfirm:()=>{L(),a.hide()},onClose:()=>{a.hide()}})};function O(a){var v;return b.exports.jsx(oe.exports.ReactSortable,{tag:"div",className:qt("form-sandbox__payground__wrap",`form-sandbox__payground__wrap--direction--${(v=a.formData)==null?void 0:v.layout}`),group:{name:"component",pull:!0,put:!0},swap:!0,direction:"horizontal",fallbackOnBody:!0,swapThreshold:1,animation:200,list:a.children,onUpdate:x=>{console.log("child-onUpdate\u64CD\u4F5C------------------->"),T(x,a.children,a)},onAdd:x=>{console.log("child-onAdd\u64CD\u4F5C------------------->"),w(x,a.children,a)},onRemove:x=>{console.log("child-onRemove\u64CD\u4F5C------------------->"),S(x,a.children,a)},setList:()=>{},children:a.children&&Le(a.children,{renderChild:O,parent:a})||null})}return D.exports.useEffect(()=>{he.watch(v=>{console.log("\u5220\u9664\u64CD\u4F5C\u6765\u6E90\uFF1A",v),S({oldDraggableIndex:v.idx},v.current,v.parent)}),me.watch(v=>{c(!0),g(v)});const a=sessionStorage.getItem(at);return d(a&&JSON.parse(a)||it),()=>{ie=[],d([]),he.destroy(),me.destroy()}},[]),b.exports.jsx(ta.Provider,{value:{containerState:n},children:b.exports.jsxs("div",{className:"form-sandbox__main",children:[b.exports.jsxs("div",{className:"form-sandbox__components",children:[b.exports.jsx("p",{className:"form-sandbox__components--title",children:"\u9009\u62E9\u7EC4\u4EF6"}),b.exports.jsx(oe.exports.ReactSortable,{tag:"div",group:{name:"component",pull:"clone",put:!1},sort:!1,list:e,setList:a=>{t(a)},children:e.map(a=>b.exports.jsx("div",{className:`form-sandbox__components__item form-sandbox__components--${a.compType}`,"comp-type":a.compType,children:a.compName},a.compId))})]}),b.exports.jsxs("div",{className:"form-sandbox__content",children:[b.exports.jsxs("div",{className:"form-sandbox__operation",children:[b.exports.jsx(Me,{theme:"primary",type:"submit",style:{marginRight:10},onClick:F,children:"\u4FDD\u5B58"}),b.exports.jsx(Me,{type:"reset",onClick:N,children:"\u91CD\u7F6E"})]}),b.exports.jsx(oe.exports.ReactSortable,{tag:"div",className:"form-sandbox__payground",group:{name:"component",pull:!0,put:!0},swap:!0,direction:"horizontal",fallbackOnBody:!0,swapThreshold:1,animation:200,list:n.value,onUpdate:a=>{console.log("container-onUpdate\u64CD\u4F5C------------------->"),T(a,n.value,null)},onAdd:a=>{console.log("container-onAdd\u64CD\u4F5C------------------->",a),w(a,n.value,null)},onRemove:a=>{console.log("container-onRemove\u64CD\u4F5C------------------->"),S(a,n.value,null)},setList:()=>{},children:Le(n.value,{renderChild:O})})]}),b.exports.jsx(ca,{visible:m,data:u,onClose:()=>{c(!1)}})]})})}export{va as default};
